---
import { getEntry } from 'astro:content';

const quotesData = await getEntry('quotes', 'all-quotes');
const quotes = quotesData.data.quotes;
const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
---

<div class="quote-banner">
  <blockquote class="quote-text">
    "<span set:html={randomQuote.text} />"
  </blockquote>
  <div class="quote-attribution">
    <span class="quote-author">â€” {randomQuote.author}, </span>
    {randomQuote.source && (
      <span class="quote-source">{randomQuote.source}</span>
    )}
  </div>
</div>

<style>
  
  .quote-banner {
    background-color: var(--color-bg-secondary);
    border-left: 4px solid var(--color-text-on-dark);
    padding: var(--spacing-6);
    margin-bottom: var(--spacing-8);
    border-radius: var(--radius-lg);
    transition: var(--transition-colors);
    transition-delay: var(--transition-delay-none);
  }

  .quote-banner:hover {
    border-left-color: var(--color-interactive);
  }

  .quote-text {
    font-size: var(--font-size-lg);
    font-style: italic;
    color: var(--color-text-on-dark);
    line-height: var(--line-height-relaxed);
    margin-bottom: var(--spacing-4);
  }

  .quote-attribution {
    margin-top: var(--spacing-4);
    font-size: var(--font-size-sm);
    color: var(--color-text-on-dark);
  }

  .quote-author {
    font-weight: var(--font-weight-semibold);
    color: var(--color-text-on-dark); /* White text */
  }

  .quote-source {
    color: var(--color-text-muted); /* Muted gray for source */
  }
</style>
