---
interface Props {
  title: string;
  description: string;
  pubDate: Date;
  slug: string;
  tags?: string[];
  collection?: string;
}

const { title, description, pubDate, slug, tags, collection = 'blog' } = Astro.props;

const formattedDate = pubDate.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
---

<article class="card-tron rounded-lg">
  <h2 class="text-2xl font-bold mb-3">
    <a href={`/${collection}/${slug}`} class="card-link">
      {title}
    </a>
  </h2>
  
  <time datetime={pubDate.toISOString()} class="text-sm card-date block mb-4">
    {formattedDate}
  </time>
  
  <p class="card-description mb-6 leading-relaxed">
    {description}
  </p>
  
  {tags && tags.length > 0 && (
    <div class="flex flex-wrap gap-2 mb-6">
      {tags.map(tag => (
        <a 
          href={`/${collection}/tag/${tag}`}
          class="card-tag text-xs px-3 py-1.5 rounded-full"
        >
          {tag}
        </a>
      ))}
    </div>
  )}
  
  <a 
    href={`/${collection}/${slug}`}
    class="inline-block card-read-more font-semibold"
  >
    Read more â†’
  </a>
</article>

<style>
  .card-link {
    color: var(--color-text-primary);
  }

  .card-link:hover {
    text-decoration: underline;
  }

  .card-date {
    color: var(--color-text-primary);
  }

  .card-description {
    color: var(--color-text-primary);
  }

  .card-tag {
    background-color: var(--color-bg-primary);
    color: var(--color-text-primary);
    border: 1px solid var(--color-border);
  }

  .card-tag:hover {
    text-decoration: underline;
  }

  .card-read-more {
    color: var(--color-text-primary);
  }

  .card-read-more:hover {
    text-decoration: underline;
  }
</style>
