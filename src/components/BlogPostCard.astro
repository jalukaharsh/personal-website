---
interface Props {
  title: string;
  pubDate: Date;
  slug: string;
  tags?: string[];
  collection?: string;
}

const { title, pubDate, slug, collection = 'blog' } = Astro.props;

const formattedDate = pubDate.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
---

<article class="card-tron rounded-lg">
  <h2 class="text-2xl font-bold mb-3">
    <a href={`/${collection}/${slug}`} class="card-link">
      {title}
    </a>
  </h2>

  <p class="card-category"> in {collection} </p>
  
  <time datetime={pubDate.toISOString()} class="text-sm block mb-4">
    {formattedDate}
  </time>
  
</article>

<style>
  
  article.card-tron {
    background-color: var(--color-bg-secondary);
    border: 1px solid var(--color-border);
    padding: var(--spacing-6);
    transition: var(--transition-colors);
    transition-delay: var(--transition-delay-none);
  }

  article.card-tron:hover {
    border-color: var(--color-interactive);
  }

  .card-link {
    color: var(--color-text-on-dark);
    transition: var(--transition-colors);
    transition-delay: var(--transition-delay-none);
  }

  .card-link:hover {
    color: var(--color-interactive);
    text-decoration: none;
  }

  .card-category {
    color: var(--color-text-muted);
    margin-bottom: var(--spacing-1);
  }

  .card-link:focus-visible {
    outline: 2px solid var(--color-interactive);
    outline-offset: 2px;
    border-radius: var(--radius-sm);
    transition-delay: var(--transition-delay-none);
  }
</style>
