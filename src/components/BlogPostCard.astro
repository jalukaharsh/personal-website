---
interface Props {
  title: string;
  description: string;
  pubDate: Date;
  slug: string;
  tags?: string[];
  collection?: string;
}

const { title, description, pubDate, slug, tags, collection = 'blog' } = Astro.props;

const formattedDate = pubDate.toLocaleDateString('en-US', {
  year: 'numeric',
  month: 'long',
  day: 'numeric'
});
---

<article class="card-tron rounded-lg">
  <h2 class="text-2xl font-bold mb-3">
    <a href={`/${collection}/${slug}`} class="card-link">
      {title}
    </a>
  </h2>
  
  <time datetime={pubDate.toISOString()} class="text-sm card-date block mb-4">
    {formattedDate}
  </time>
  
  <p class="card-description mb-6 leading-relaxed">
    {description}
  </p>
  
  {tags && tags.length > 0 && (
    <div class="flex flex-wrap gap-2 mb-6">
      {tags.map(tag => (
        <a 
          href={`/${collection}/tag/${tag}`}
          class="card-tag text-xs px-3 py-1.5 rounded-full"
        >
          {tag}
        </a>
      ))}
    </div>
  )}
  
  <a 
    href={`/${collection}/${slug}`}
    class="inline-block card-read-more font-semibold"
  >
    Read more â†’
  </a>
</article>

<style>
  /* Modern Tech Theme - BlogPostCard Styling */
  
  /* Card container with Graphite Gray background */
  article.card-tron {
    background-color: var(--color-bg-secondary); /* Graphite Gray */
    border: 1px solid var(--color-border-subtle);
    transition: var(--transition-colors);
    transition-delay: var(--transition-delay-none);
  }

  article.card-tron:hover {
    border-color: var(--color-interactive-primary); /* Electric Blue on hover */
  }

  /* Title link - white text on dark background */
  .card-link {
    color: var(--color-text-on-dark); /* White text */
    transition: var(--transition-colors);
    transition-delay: var(--transition-delay-none);
  }

  .card-link:hover {
    color: var(--color-interactive-primary); /* Electric Blue on hover */
    text-decoration: none;
  }

  /* Date - muted text color */
  .card-date {
    color: var(--color-text-muted); /* Muted gray for metadata */
  }

  /* Description - white text on dark background */
  .card-description {
    color: var(--color-text-on-dark); /* White text */
  }

  /* Tags - Electric Blue accent with light background */
  .card-tag {
    background-color: var(--color-electric-blue-20); /* Light Electric Blue background */
    color: var(--color-interactive-primary); /* Electric Blue text */
    border: 1px solid var(--color-interactive-primary);
    transition: var(--transition-colors);
    transition-delay: var(--transition-delay-none);
  }

  .card-tag:hover {
    background-color: var(--color-interactive-primary); /* Electric Blue background */
    color: var(--color-text-on-dark); /* White text */
    text-decoration: none;
  }

  /* Read more link - Electric Blue */
  .card-read-more {
    color: var(--color-interactive-primary); /* Electric Blue */
    transition: var(--transition-colors);
    transition-delay: var(--transition-delay-none);
  }

  .card-read-more:hover {
    color: var(--color-interactive-hover); /* Darker blue on hover */
    text-decoration: none;
  }

  /* Focus states for accessibility */
  .card-link:focus-visible,
  .card-tag:focus-visible,
  .card-read-more:focus-visible {
    outline: 2px solid var(--color-interactive-primary);
    outline-offset: 2px;
    border-radius: var(--radius-sm);
    transition-delay: var(--transition-delay-none);
  }
</style>
